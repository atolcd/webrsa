<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ChangeLog</title><style type="text/css">
					
						table { border-collapse: collapse; }
						td, th { border: 1px solid silver; padding: 0.125em 0.25em; vertical-align: top; }
						thead th, tbody th { text-align: center; background: #cecece; }
						tbody tr:nth-child(even) { background: #efefef; }
						tbody th.release { text-align: left; }
					
				</style><script type="text/javascript">
					
						function toggleColumn( className ) {
							var elements = document.getElementsByClassName( className );
							for( var i = 0 ; i < elements.length ; i++ ) {
								var display = elements[i].style.display;
								if( display == 'none' ) {
									elements[i].style.display = 'table-cell';
								}
								else {
									elements[i].style.display = 'none';
								}
							}
						}
					
				</script></head><body><h1>ChangeLog</h1><ul><li><a href="#" onclick="toggleColumn( 'fichiers' );return false;" title="Voir la liste des fichiers">Fichiers</a></li></ul><table><thead><tr><th class="revision">Rév.</th><th class="date">Date</th><th class="message">Message</th><th class="fichiers">Fichiers</th></tr></thead><tbody>
<tr class="logentry"><td class="revision">10380</td><td class="date">24/07/2017 07:27</td><td class="message">Ajout du fichier CSS minifié</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/webroot/css/webrsa.css</li></ul></td></tr>
<tr class="logentry"><td class="revision">10379</td><td class="date">11/07/2017 08:17</td><td class="message">Amélioration: module "Tableaux de bord", ajout d'un filtre par "Rôle lié à l'utilisateur" dans l'écran de paramétrage des actions de rôles, ajout de la colonne "Rôle lié actif ?" et inversion des colonnes "Catégorie de l'action du rôle (onglet)" et "Role lié" dans les résultats de la recherche. En lien avec le ticket #2008077 (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Controller/ActionrolesController.php</li><li><strong>M:</strong>/trunk/app/Locale/fra/LC_MESSAGES/actionroles.po</li><li><strong>M:</strong>/trunk/app/View/Actionroles/index.ctp</li></ul></td></tr>
<tr class="logentry"><td class="revision">10378</td><td class="date">11/07/2017 07:44</td><td class="message">Correction: prise en compte des caractères accentués dans les URL des tableaux de bord pour PHP 5.3.2. En lien avec le ticket #2008077 (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Lib/basics.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10377</td><td class="date">10/07/2017 11:14</td><td class="message">Correcection: refonte partielle du module "Tableaux de bord" afin de prendre en compte les différentes restrictions liées à l'utilisateur dans le shell permettant le calcul du cache; déplacement des méthodes de chargement de données liées à l'utilisateur connecté depuis UsersController vers WebrsaUsersComponent; ajout d'un moteur de recherche dans l'écran de paramétrage des actions de roles. Corrige le ticket #2008077 (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Config/inflections.php</li><li><strong>A:</strong>/trunk/app/Config/sql/patches/3.x/patch-3.2.3.sql</li><li><strong>M:</strong>/trunk/app/Console/Command/CalculCacheDashboardsShell.php</li><li><strong>A:</strong>/trunk/app/Console/Command/Task/SessionTask.php</li><li><strong>M:</strong>/trunk/app/Controller/ActionrolesController.php</li><li><strong>M:</strong>/trunk/app/Controller/CategoriesactionrolesController.php</li><li><strong>M:</strong>/trunk/app/Controller/Component/WebrsaAbstractCohortesComponent.php</li><li><strong>M:</strong>/trunk/app/Controller/Component/WebrsaAbstractMoteursComponent.php</li><li><strong>M:</strong>/trunk/app/Controller/Component/WebrsaUsersComponent.php</li><li><strong>M:</strong>/trunk/app/Controller/DashboardsController.php</li><li><strong>M:</strong>/trunk/app/Controller/RolesController.php</li><li><strong>M:</strong>/trunk/app/Controller/UsersController.php</li><li><strong>M:</strong>/trunk/app/Lib/basics.php</li><li><strong>M:</strong>/trunk/app/Locale/fra/LC_MESSAGES/actionroles.po</li><li><strong>M:</strong>/trunk/app/Model/Actionrole.php</li><li><strong>A:</strong>/trunk/app/Model/Actionroleresultuser.php</li><li><strong>M:</strong>/trunk/app/Model/Categorieactionrole.php</li><li><strong>M:</strong>/trunk/app/Model/Dashboard.php</li><li><strong>M:</strong>/trunk/app/Model/Role.php</li><li><strong>M:</strong>/trunk/app/Model/User.php</li><li><strong>M:</strong>/trunk/app/Model/WebrsaRecherche.php</li><li><strong>M:</strong>/trunk/app/Test/Case/BasicsTest.php</li><li><strong>M:</strong>/trunk/app/View/Actionroles/index.ctp</li><li><strong>M:</strong>/trunk/app/View/Dashboards/index.ctp</li></ul></td></tr>
<tr class="logentry"><td class="revision">10376</td><td class="date">30/06/2017 15:34</td><td class="message">Amélioration: ajout de documentation (utilisateur et dans le code source) pour le shell Fichiersmodules. Ajout d'une demande de confirmation avant de réparer réellement les enregistrements pour éviter notamment de supprimer des enregistrements sur le serveur CMIS de production. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li><li><strong>M:</strong>/trunk/app/Locale/fra/LC_MESSAGES/fichiersmodules.po</li></ul></td></tr>
<tr class="logentry"><td class="revision">10375</td><td class="date">29/06/2017 11:36</td><td class="message">Correction: ajout de la classe FichiermodulelieBehavior qui permet de supprimer les fichiers liés après la suppression de l'enregistrement métier auquel ceux-ci sont liés. Utilisation de ce behavior dans les modèles concernés, ajout de traductions de modules ayant des fichiers liés. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Locale/fra/LC_MESSAGES/fichiersmodules.po</li><li><strong>M:</strong>/trunk/app/Locale/fra/LC_MESSAGES/fichiersmodules_cg66.po</li><li><strong>M:</strong>/trunk/app/Model/Abstractclass/AbstractAppModelLieCui66.php</li><li><strong>M:</strong>/trunk/app/Model/Actioncandidat.php</li><li><strong>M:</strong>/trunk/app/Model/ActioncandidatPersonne.php</li><li><strong>M:</strong>/trunk/app/Model/Apre.php</li><li><strong>M:</strong>/trunk/app/Model/Apre66.php</li><li><strong>A:</strong>/trunk/app/Model/Behavior/FichiermodulelieBehavior.php</li><li><strong>M:</strong>/trunk/app/Model/Bilanparcours66.php</li><li><strong>M:</strong>/trunk/app/Model/Contratinsertion.php</li><li><strong>M:</strong>/trunk/app/Model/Cui.php</li><li><strong>M:</strong>/trunk/app/Model/Decisiondossierpcg66.php</li><li><strong>M:</strong>/trunk/app/Model/Dossierpcg66.php</li><li><strong>M:</strong>/trunk/app/Model/DspRev.php</li><li><strong>M:</strong>/trunk/app/Model/Entretien.php</li><li><strong>M:</strong>/trunk/app/Model/Fichedeliaison.php</li><li><strong>M:</strong>/trunk/app/Model/Foyer.php</li><li><strong>M:</strong>/trunk/app/Model/Manifestationbilanparcours66.php</li><li><strong>M:</strong>/trunk/app/Model/Memo.php</li><li><strong>M:</strong>/trunk/app/Model/Nonoriente66.php</li><li><strong>M:</strong>/trunk/app/Model/Orientstruct.php</li><li><strong>M:</strong>/trunk/app/Model/Personne.php</li><li><strong>M:</strong>/trunk/app/Model/PersonneReferent.php</li><li><strong>M:</strong>/trunk/app/Model/Piecemailcui66.php</li><li><strong>M:</strong>/trunk/app/Model/Propodecisioncui66.php</li><li><strong>M:</strong>/trunk/app/Model/Propopdo.php</li><li><strong>M:</strong>/trunk/app/Model/Rendezvous.php</li><li><strong>M:</strong>/trunk/app/Model/Traitementpcg66.php</li><li><strong>M:</strong>/trunk/app/Model/Traitementpdo.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10374</td><td class="date">29/06/2017 09:30</td><td class="message">Correction dans la fonction str_putcsv car en PHP 5.3, la fonction fputcsv n'accepte que 4 paramètres. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Lib/basics.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10373</td><td class="date">29/06/2017 09:17</td><td class="message">Correction d'une erreur de syntaxe dans le fichier FichiersmodulesShell. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10372</td><td class="date">29/06/2017 09:10</td><td class="message">Amélioration: le shell Fichiersmodules corrige à présent les différents problèmes des enregistrements de fichiers liés et exporte un tableau de métriques ainsi que la liste des chemins CMIS qui n'ont pu être supprimés lors de la correction. Ajout de la fonction str_putcsv et des tests unitaires associés. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li><li><strong>M:</strong>/trunk/app/Lib/basics.php</li><li><strong>A:</strong>/trunk/app/Locale/fra/LC_MESSAGES/fichiersmodules.po</li><li><strong>A:</strong>/trunk/app/Locale/fra/LC_MESSAGES/fichiersmodules_cg66.po</li><li><strong>A:</strong>/trunk/app/Locale/fra/LC_MESSAGES/fichiersmodules_cg93.po</li><li><strong>M:</strong>/trunk/app/Model/AppModel.php</li><li><strong>M:</strong>/trunk/app/Model/Fichiermodule.php</li><li><strong>M:</strong>/trunk/app/Test/Case/BasicsTest.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10371</td><td class="date">26/06/2017 13:54</td><td class="message">Amélioration: ajout de précisions avec/sans fichier(s) lié(s) au shell Fichiersmodules. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10370</td><td class="date">26/06/2017 13:29</td><td class="message">Amélioration: à présent, dans les formulaires d'ajout de pièces jointes ainsi que dans les formulaires d'ajout/modification contenant  un pavé "Pièce jointe" (Paramétrage des actions d'insertion, Dossiers PCG d'un foyer, Paramétrage des pièces liées aux mails employeur des CUIs, PDO d'un allocataire, Traitement PCG d'un allocataire et Traitement d'une PDO (déprécié)), lorsque l'on sélectionne la valeur "Non" à la question "Ajouter une pièce jointe" et qu'il existe au moins une pièce jointe, un message d'alerte apparaîtra afin d'éviter de perdre des données à l'enregistrement. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/View/Actionscandidats/add_edit.ctp</li><li><strong>M:</strong>/trunk/app/View/Dossierspcgs66/edit.ctp</li><li><strong>M:</strong>/trunk/app/View/Helper/FileuploaderHelper.php</li><li><strong>M:</strong>/trunk/app/View/Piecesmailscuis66/add_edit.ctp</li><li><strong>M:</strong>/trunk/app/View/Propospdos/edit.ctp</li><li><strong>M:</strong>/trunk/app/View/Traitementspcgs66/add_edit.ctp</li><li><strong>M:</strong>/trunk/app/View/Traitementspdos/add_edit.ctp</li></ul></td></tr>
<tr class="logentry"><td class="revision">10369</td><td class="date">26/06/2017 10:50</td><td class="message">Correction: une variable du formulaire d'ajout/de modification d'une APRE/ADRE avait été supprimée par méagrde en révision #10320 . En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Controller/Apres66Controller.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10368</td><td class="date">26/06/2017 09:55</td><td class="message">Correction: ajout de détails au shell Fichiersmodules, on s'assure à présent d'obtenir le nombre correct d'enregistrements corrigés. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10367</td><td class="date">26/06/2017 08:48</td><td class="message">Correction: remplacement de la commande "repare" par "repair" dans le shell Fichiersmodules. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10366</td><td class="date">26/06/2017 08:46</td><td class="message">Correction: à présent, dans l'écran de modification d'un dossier PCG, si l'enregistrement concerne un des anciens pôles (PDA, PDU) désactivé, une ancienne origine du dossier désactivée ou un ancien type de dossier désactivé et que l'on retourne sur le formulaire suite à une erreur de validation, on ne perd plus les ancienns valeurs. En lien avec le ticket #2009191. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Controller/Dossierspcgs66Controller.php</li><li><strong>M:</strong>/trunk/app/Model/WebrsaPoledossierpcg66.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10365</td><td class="date">20/06/2017 11:42</td><td class="message">Amélioration: ajout du shell Fichiersmodules qui permet de détecter et de corriger le statut "Fichiers liés Oui/Non" des enregistrements métiers en fonction du nombre de fichiers effectivement liés. En lien avec le ticket #2009191.</td><td class="fichiers"><ul class="paths"><li><strong>A:</strong>/trunk/app/Console/Command/FichiersmodulesShell.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10364</td><td class="date">19/06/2017 12:06</td><td class="message">Amélioration: ajout des données de la structure orientante dans le moteur de recherche par orientation, ajout du paramétrage dans le fichier app/Config/Cg66/Orientsstructs.php pour faire apparaître le libellé de la structure orientante dans le tableau de résultats de la recherche. Clôture le ticket #2009100. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Config/Cg66/Orientsstructs.php</li><li><strong>M:</strong>/trunk/app/Model/WebrsaRechercheOrientstruct.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10363</td><td class="date">19/06/2017 11:47</td><td class="message">Amélioration: à présent, lorsque l'utilisateur essaie d'accéder à la racine de l'application et qu'il est redirigé vers le formualire de connexion, le message "Vous n'êtes pas autorisé(e) à accéder à cette page." ne s'affiche plus. Corrige le ticket #2008992. (CG 66)</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Controller/AppController.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10362</td><td class="date">31/05/2017 13:55</td><td class="message">Amélioration: prise en compte des types de données "biginteger" et "decimal" dans le CSS</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/webroot/css/screen.generic.css</li></ul></td></tr>
<tr class="logentry"><td class="revision">10361</td><td class="date">31/05/2017 13:28</td><td class="message">Amélioration, plugin Default: prise en compte des types de données "biginteger" et "decimal"</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Plugin/Default/View/Helper/DefaultDataHelper.php</li><li><strong>M:</strong>/trunk/app/Plugin/Default/View/Helper/DefaultFormHelper.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10360</td><td class="date">31/05/2017 13:26</td><td class="message">Amélioration, plugin Validation2: prise en compte des types de données "biginteger" et "decimal"</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/Plugin/Validation2/Model/Behavior/Validation2FormattableBehavior.php</li><li><strong>M:</strong>/trunk/app/Plugin/Validation2/Model/Behavior/Validation2Validation2Behavior.php</li></ul></td></tr>
<tr class="logentry"><td class="revision">10359</td><td class="date">31/05/2017 13:09</td><td class="message">Correction: prise en compte du type de données decimal dans la classe ThemeHelper.</td><td class="fichiers"><ul class="paths"><li><strong>M:</strong>/trunk/app/View/Helper/ThemeHelper.php</li></ul></td></tr>
</tbody></table><script type="text/javascript">
					
						toggleColumn( 'fichiers' );
					
				</script></body></html>
